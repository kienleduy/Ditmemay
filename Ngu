local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()
local Window = OrionLib:MakeWindow({
    Name = "ALL-IN-ONE MENU ðŸ‘º",
    HidePremium = true,
    SaveConfig = true,
    ConfigFolder = "SiuMenuSettings", 
    IntroEnabled = false
})

-- [KHá»žI Táº O CÃC TAB]
local MainTab = Window:MakeTab({Name = "Main"})
local QuestTab = Window:MakeTab({Name = "Auto Quest"})
local SkillTab = Window:MakeTab({Name = "Auto Skill"})
local FruitTab = Window:MakeTab({Name = "Fruit"})
local RandomTab = Window:MakeTab({Name = "Random & Lucky"})
local MiscTab = Window:MakeTab({Name = "Misc"})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function safe(func)
    pcall(func)
end

-- [HÃ€M Há»– TRá»¢ KILL Gá»C]
local function killTarget(model)
    if not model then return end
    local hum = model:FindFirstChildWhichIsA("Humanoid")
    if hum and hum.Health > 0 then
        task.spawn(function()
            for i = 1, 25 do
                if not hum or hum.Health <= 0 then break end
                safe(function()
                    hum.Health = 0
                    hum.MaxHealth = 0
                    hum.Health = -math.huge
                    hum:TakeDamage(9e9)
                    hum:ChangeState(Enum.HumanoidStateType.Dead)
                end)
                task.wait()
            end
        end)
    end
end

-- [MAIN TAB - KILL AURA]
local killAuraEnabled = false
local selectedTargetName = "ChÆ°a chá»n"
local targetList = {"ChÆ°a chá»n", "Siu_Owner"}
local dropdown

local function refreshTargetList()
    targetList = {"ChÆ°a chá»n", "Siu_Owner"}
    local npcFolder = workspace:FindFirstChild("NPC DAMAGE")
    if npcFolder then
        for _, model in ipairs(npcFolder:GetChildren()) do
            if model:IsA("Model") and model:FindFirstChildWhichIsA("Humanoid") then
                if model.Name ~= "Siu_Owner" then table.insert(targetList, model.Name) end
            end
        end
    end
    if dropdown then dropdown:Refresh(targetList, true) end
end

MainTab:AddToggle({
    Name = "Kill Aura (Siu & NPC Map)",
    Default = false,
    Callback = function(state)
        killAuraEnabled = state
        task.spawn(function()
            while killAuraEnabled do
                task.wait(0.1)
                safe(function()
                    sethiddenproperty(LocalPlayer, "SimulationRadius", 1e12)
                    if selectedTargetName == "Siu_Owner" then
                        local boss = workspace:FindFirstChild("Siu_Owner")
                        if boss then killTarget(boss) end
                    else
                        local npcFolder = workspace:FindFirstChild("NPC DAMAGE")
                        local target = npcFolder and npcFolder:FindFirstChild(selectedTargetName)
                        if target then killTarget(target) end
                    end
                end)
            end
        end)
    end    
})

local raidAuraEnabled = false
MainTab:AddToggle({
    Name = "ðŸ”¥ Kill Aura RAID (Wave 1-5 & CuteBoss)",
    Default = false,
    Callback = function(state)
        raidAuraEnabled = state
        task.spawn(function()
            while raidAuraEnabled do
                task.wait(0.1)
                safe(function()
                    sethiddenproperty(LocalPlayer, "SimulationRadius", 1e12)
                    for i = 1, 5 do
                        local wave = workspace:FindFirstChild("Wave" .. i)
                        if wave then for _, mob in ipairs(wave:GetChildren()) do killTarget(mob) end end
                    end
                    local cb = workspace:FindFirstChild("CuteBoss")
                    if cb then killTarget(cb) end
                    local raidFolder = game:GetService("ReplicatedStorage"):FindFirstChild("Npc-Mob,Boss Of Raid")
                    if raidFolder then
                        local p = raidFolder:FindFirstChild("Prisoner")
                        local c = raidFolder:FindFirstChild("CuteBoss")
                        if p then killTarget(p) end
                        if c then killTarget(c) end
                    end
                end)
            end
        end)
    end
})

dropdown = MainTab:AddDropdown({
    Name = "Chá»n má»¥c tiÃªu (Map)",
    Default = "ChÆ°a chá»n",
    Options = targetList,
    Callback = function(v) selectedTargetName = v end
})

MainTab:AddButton({Name = "LÃ m má»›i danh sÃ¡ch quÃ¡i", Callback = function() refreshTargetList() end})

-- [AUTO QUEST TAB]
local autoQuestNPCEnabled = false
local selectedQuestNPC = "ChÆ°a chá»n"
local questNPCList = {"ChÆ°a chá»n"}
local questDropdown

local function refreshQuestNPCList()
    questNPCList = {"ChÆ°a chá»n"}
    safe(function()
        local npcsFolder = workspace:FindFirstChild("NPCS")
        if npcsFolder then
            for _, npc in ipairs(npcsFolder:GetChildren()) do
                if npc:IsA("Model") and npc:FindFirstChild("ClickPart") then table.insert(questNPCList, npc.Name) end
            end
        end
    end)
    if questDropdown then questDropdown:Refresh(questNPCList, true) end
end

QuestTab:AddToggle({
    Name = "Auto Nháº­n Quest (Accept 1-3)",
    Default = false,
    Callback = function(state)
        autoQuestNPCEnabled = state
        task.spawn(function()
            while autoQuestNPCEnabled do
                task.wait(0.2)
                safe(function()
                    local npc = workspace.NPCS:FindFirstChild(selectedQuestNPC)
                    local inner = npc.ClickPart.QuestTake.QuestTake
                    for i = 1, 3 do
                        local btn = inner:FindFirstChild("Accept" .. i)
                        if btn then btn:FindFirstChildOfClass("RemoteEvent"):FireServer() end
                    end
                end)
            end
        end)
    end    
})

questDropdown = QuestTab:AddDropdown({
    Name = "Chá»n NPC Quest Giver",
    Default = "ChÆ°a chá»n",
    Options = questNPCList,
    Callback = function(v) selectedQuestNPC = v end    
})

QuestTab:AddButton({Name = "LÃ m má»›i danh sÃ¡ch NPC", Callback = function() refreshQuestNPCList() end})

-- [AUTO SKILL TAB]
for _, key in ipairs({"Z","X","C","V","B","N"}) do
    SkillTab:AddToggle({
        Name = "Auto Skill " .. key,
        Default = false,
        Callback = function(state)
            getgenv()["autoskill"..key] = state
            task.spawn(function()
                while getgenv()["autoskill"..key] do
                    task.wait()
                    safe(function()
                        for _, t in pairs(LocalPlayer.Character:GetChildren()) do
                            if t:IsA("Tool") and t:FindFirstChild(key) then
                                for _, r in pairs(t[key]:GetChildren()) do if r:IsA("RemoteEvent") then r:FireServer() end end
                            end
                        end
                    end)
                end
            end)
        end
    })
end

-- [FRUIT TAB]
FruitTab:AddButton({
    Name = "STORE AND EAT (4 GUI) ðŸ‘º",
    Callback = function()
        safe(function()
            local Save = game:GetService("ReplicatedStorage"):WaitForChild("Save")
            Save:WaitForChild("SavingMelee"):FireServer(-5)
            Save:WaitForChild("SavingSword"):FireServer(-5)
            for _, Name in pairs({"BOXGUI", "ArmorBox", "DFGUI", "BOOKGUI"}) do
                local Gui = LocalPlayer.PlayerGui:FindFirstChild(Name)
                if Gui and Gui.Frame:FindFirstChild("Sure") and Gui.Frame.Sure:FindFirstChild("EatScript") then
                    Gui.Frame.Sure.EatScript.Eat:FireServer()
                end
            end
        end)
    end
})

-- [RANDOM TAB]
local rollAmount = 1
RandomTab:AddTextbox({
    Name = "Sá»‘ lÆ°á»£ng roll",
    Default = "1",
    Callback = function(v) rollAmount = tonumber(v) or 1 end
})
RandomTab:AddButton({
    Name = "Lucky Spin ðŸ‘º",
    Callback = function()
        safe(function()
            local args = { { true, { Legendary = false, Common = false, Rare = false, Mythical = false, Secret = false }, rollAmount } }
            LocalPlayer.PlayerGui.Random.Bright:FireServer(unpack(args))
        end)
    end
})

-- [MISC TAB]
MiscTab:AddSection({ Name = "ðŸ’¾ Settings" })
MiscTab:AddButton({
    Name = "Save Settings Now",
    Callback = function() OrionLib:MakeNotification({Name = "Save", Content = "CÃ i Ä‘áº·t Ä‘Ã£ Ä‘Æ°á»£c lÆ°u!", Time = 2}) end
})

MiscTab:AddSection({ Name = "ðŸš€ Teleport" })
MiscTab:AddButton({
    Name = "âœˆï¸ Teleport sang Raid (18859789310)",
    Callback = function() game:GetService("TeleportService"):Teleport(18859789310, LocalPlayer) end
})

MiscTab:AddSection({ Name = "âš™ï¸ Others" })

-- Toggle Auto Nháº·t Item (giá»¯ nguyÃªn)
MiscTab:AddToggle({
    Name = "Auto Nháº·t Item 100k Stud (TrÃ¡nh MAP & NPCS)",
    Default = false,
    Callback = function(state)
        getgenv().AutoCollectItems = state
        task.spawn(function()
            while getgenv().AutoCollectItems do
                safe(function()
                    local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                    if not hrp then return end

                    local excludedFolders = {
                        workspace:FindFirstChild("MAP"),
                        workspace:FindFirstChild("NPCS"),
                        workspace:FindFirstChild("NPC DAMAGE")
                    }

                    for _, obj in ipairs(workspace:GetChildren()) do
                        local isExcluded = false
                        for _, folder in ipairs(excludedFolders) do
                            if folder and obj:IsDescendantOf(folder) then
                                isExcluded = true
                                break
                            end
                        end
                        if isExcluded then continue end

                        local cds = obj:GetDescendants()
                        for _, cd in ipairs(cds) do
                            if cd:IsA("ClickDetector") then
                                local parentPart = cd.Parent
                                if parentPart and parentPart:IsA("BasePart") then
                                    local dist = (parentPart.Position - hrp.Position).Magnitude
                                    if dist <= 100000 then
                                        pcall(fireclickdetector, cd)
                                    end
                                end
                            elseif cd:IsA("TouchInterest") or cd:IsA("TouchTransmitter") then
                                local touchPart = cd.Parent
                                if touchPart and touchPart:IsA("BasePart") then
                                    local dist = (touchPart.Position - hrp.Position).Magnitude
                                    if dist <= 100000 then
                                        pcall(function()
                                            touchPart.CFrame = hrp.CFrame * CFrame.new(0, -3, 0)
                                        end)
                                    end
                                end
                            end
                        end
                    end

                    for _, obj in ipairs(workspace:GetDescendants()) do
                        local isExcluded = false
                        for _, folder in ipairs(excludedFolders) do
                            if folder and obj:IsDescendantOf(folder) then
                                isExcluded = true
                                break
                            end
                        end
                        if isExcluded then continue end

                        if obj:IsA("ClickDetector") then
                            local parentPart = obj.Parent
                            if parentPart and parentPart:IsA("BasePart") then
                                local dist = (parentPart.Position - hrp.Position).Magnitude
                                if dist <= 100000 then
                                    pcall(fireclickdetector, obj)
                                end
                            end
                        elseif obj:IsA("TouchInterest") or obj:IsA("TouchTransmitter") then
                            local touchPart = obj.Parent
                            if touchPart and touchPart:IsA("BasePart") then
                                local dist = (touchPart.Position - hrp.Position).Magnitude
                                if dist <= 100000 then
                                    pcall(function()
                                        touchPart.CFrame = hrp.CFrame * CFrame.new(0, -3, 0)
                                    end)
                                end
                            end
                        elseif obj:IsA("ProximityPrompt") then
                            pcall(function()
                                fireproximityprompt(obj)
                            end)
                        end
                    end
                end)
                task.wait(0.3)
            end
        end)
    end
})

-- Toggle Auto Copy Armor (giá»¯ nguyÃªn náº¿u cÃ³, hoáº·c bá» náº¿u khÃ´ng cáº§n)
MiscTab:AddToggle({
    Name = "Auto Copy Armor (Fire Remote Armor)",
    Default = false,
    Callback = function(state)
        getgenv().AutoArmor = state
        
        if state then
            OrionLib:MakeNotification({
                Name = "Auto Armor",
                Content = "Báº¬T - Tá»± Ä‘á»™ng copy/fire armor tá»« ngÆ°á»i khÃ¡c",
                Time = 4
            })
        else
            OrionLib:MakeNotification({
                Name = "Auto Armor",
                Content = "Táº®T",
                Time = 3
            })
        end
        
        task.spawn(function()
            while getgenv().AutoArmor do
                task.wait(0.3)
                safe(function()
                    for _, descendant in pairs(Players:GetDescendants()) do
                        if descendant:IsA("RemoteEvent") 
                            and descendant.Name == "Fire" 
                            and descendant:FindFirstChild("Armor") then
                            descendant:FireServer()
                        end
                    end
                    
                    for _, plr in pairs(Players:GetPlayers()) do
                        if plr ~= LocalPlayer then
                            for _, container in pairs({plr.Backpack, plr.Character}) do
                                if container then
                                    for _, item in pairs(container:GetChildren()) do
                                        if item.Name:lower():find("armor") then
                                            local k = item:FindFirstChild("K")
                                            if k then
                                                local fire = k:FindFirstChild("Fire")
                                                if fire and fire:IsA("RemoteEvent") then
                                                    fire:FireServer()
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end)
            end
        end)
    end
})

-- Dropdown chá»n quÃ¡i tá»« NPC DAMAGE
local selectedQuai = "ChÆ°a chá»n"
local quaiList = {}

local function refreshQuaiList()
    quaiList = {"ChÆ°a chá»n"}
    local npcFolder = workspace:FindFirstChild("NPC DAMAGE")
    if npcFolder then
        for _, quai in ipairs(npcFolder:GetChildren()) do
            if quai:IsA("Model") and quai:FindFirstChild("HumanoidRootPart") then
                table.insert(quaiList, quai.Name)
            end
        end
    end
end

MiscTab:AddDropdown({
    Name = "Chá»n QuÃ¡i Ä‘á»ƒ Teleport",
    Default = "ChÆ°a chá»n",
    Options = quaiList,
    Callback = function(value)
        selectedQuai = value
    end    
})

MiscTab:AddButton({
    Name = "LÃ m má»›i danh sÃ¡ch quÃ¡i",
    Callback = function()
        refreshQuaiList()
        OrionLib:MakeNotification({
            Name = "Refresh QuÃ¡i",
            Content = "ÄÃ£ cáº­p nháº­t danh sÃ¡ch quÃ¡i tá»« NPC DAMAGE!",
            Time = 3
        })
    end    
})

MiscTab:AddButton({
    Name = "Teleport Ä‘áº¿n QuÃ¡i ÄÃ£ Chá»n",
    Callback = function()
        if selectedQuai == "ChÆ°a chá»n" then
            OrionLib:MakeNotification({
                Name = "Lá»—i",
                Content = "ChÆ°a chá»n quÃ¡i nÃ o!",
                Time = 3
            })
            return
        end
        
        local npcFolder = workspace:FindFirstChild("NPC DAMAGE")
        if not npcFolder then return end
        
        local quai = npcFolder:FindFirstChild(selectedQuai)
        if not quai or not quai:FindFirstChild("HumanoidRootPart") then
            OrionLib:MakeNotification({
                Name = "Lá»—i",
                Content = "QuÃ¡i khÃ´ng tá»“n táº¡i hoáº·c thiáº¿u vá»‹ trÃ­!",
                Time = 3
            })
            return
        end
        
        local playerChar = LocalPlayer.Character
        if not playerChar or not playerChar:FindFirstChild("HumanoidRootPart") then
            OrionLib:MakeNotification({
                Name = "Lá»—i",
                Content = "NhÃ¢n váº­t chÆ°a load!",
                Time = 3
            })
            return
        end
        
        -- Teleport
        local hrp = playerChar.HumanoidRootPart
        local targetCFrame = quai.HumanoidRootPart.CFrame * CFrame.new(0, 5, 0)  -- lÃªn trÃªn 5 stud
        hrp.CFrame = targetCFrame
        
        OrionLib:MakeNotification({
            Name = "Teleport",
            Content = "ÄÃ£ dá»‹ch chuyá»ƒn Ä‘áº¿n " .. selectedQuai .. "!",
            Time = 4
        })
    end    
})

-- Load ban Ä‘áº§u danh sÃ¡ch quÃ¡i
refreshQuaiList()

refreshTargetList()
refreshQuestNPCList()
OrionLib:Init()

print("Menu loaded! ÄÃ£ thÃªm dropdown + nÃºt teleport Ä‘áº¿n quÃ¡i trong Misc tab.")
