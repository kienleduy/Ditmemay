local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()
local Window = OrionLib:MakeWindow({
    Name = "ALL-IN-ONE MENU ðŸ‘º",
    HidePremium = true,
    SaveConfig = false,
    IntroEnabled = false
})

local MainTab = Window:MakeTab({Name = "Main"})
local QuestTab = Window:MakeTab({Name = "Auto Quest"})
local SkillTab = Window:MakeTab({Name = "Auto Skill"})
local FruitTab = Window:MakeTab({Name = "Fruit"})
local RandomTab = Window:MakeTab({Name = "Random & Lucky"})
local MiscTab = Window:MakeTab({Name = "Misc"})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function safe(func)
    pcall(func)
end

-- [HÃ€M Há»– TRá»¢ KILL Gá»C Cá»¦A Báº N]
local function killTarget(model)
    if not model then return end
    local hum = model:FindFirstChildWhichIsA("Humanoid")
    if hum and hum.Health > 0 then
        task.spawn(function()
            for i = 1, 25 do
                if not hum or hum.Health <= 0 then break end
                safe(function()
                    hum.Health = 0
                    hum.MaxHealth = 0
                    hum.Health = -math.huge
                    hum:TakeDamage(9e9)
                    hum:ChangeState(Enum.HumanoidStateType.Dead)
                end)
                task.wait()
            end
        end)
    end
end

-- [KILL AURA Há»† THá»NG CÅ¨]
local killAuraEnabled = false
local selectedTargetName = "ChÆ°a chá»n"
local targetList = {"ChÆ°a chá»n", "Siu_Owner"}
local dropdown

local function refreshTargetList()
    targetList = {"ChÆ°a chá»n", "Siu_Owner"}
    local npcFolder = workspace:FindFirstChild("NPC DAMAGE")
    if npcFolder then
        for _, model in ipairs(npcFolder:GetChildren()) do
            if model:IsA("Model") and model:FindFirstChildWhichIsA("Humanoid") then
                if model.Name ~= "Siu_Owner" then 
                    table.insert(targetList, model.Name) 
                end
            end
        end
    end
    if dropdown then dropdown:Refresh(targetList, true) end
end

MainTab:AddToggle({
    Name = "Kill Aura (Siu & NPC Map)",
    Default = false,
    Callback = function(state)
        killAuraEnabled = state
        if killAuraEnabled then
            task.spawn(function()
                while killAuraEnabled do
                    task.wait(0.1)
                    safe(function()
                        sethiddenproperty(LocalPlayer, "SimulationRadius", 1e12)
                        if selectedTargetName == "Siu_Owner" then
                            local boss = workspace:FindFirstChild("Siu_Owner")
                            if boss then killTarget(boss) end
                        else
                            local npcFolder = workspace:FindFirstChild("NPC DAMAGE")
                            local target = npcFolder and npcFolder:FindFirstChild(selectedTargetName)
                            if target then killTarget(target) end
                        end
                    end)
                end
            end)
        end
    end    
})

-- [KILL AURA RAID PHáº M VI 100 STUD - FIX]
local killAuraRaidAllEnabled = false
MainTab:AddToggle({
    Name = "ðŸ”¥ Kill Aura RAID (Pháº¡m vi 100 Stud)",
    Default = false,
    Callback = function(state)
        killAuraRaidAllEnabled = state
        if killAuraRaidAllEnabled then
            OrionLib:MakeNotification({Name = "RAID AURA", Content = "Äang quÃ©t quÃ¡i Raid xung quanh...", Time = 5})
            task.spawn(function()
                while killAuraRaidAllEnabled do
                    task.wait(0.1)
                    safe(function()
                        local hrp = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                        if not hrp then return end
                        sethiddenproperty(LocalPlayer, "SimulationRadius", 1e12)

                        -- Gom quÃ¡i tá»« RepStorage vÃ  Workspace
                        local targets = {}
                        local raidFolder = game:GetService("ReplicatedStorage"):FindFirstChild("Npc-Mob,Boss Of Raid")
                        
                        if raidFolder then
                            for _, v in ipairs(raidFolder:GetDescendants()) do
                                if v:IsA("Model") and v:FindFirstChildWhichIsA("Humanoid") then table.insert(targets, v) end
                            end
                        end
                        for _, v in ipairs(workspace:GetChildren()) do
                            if v:IsA("Model") and v:FindFirstChildWhichIsA("Humanoid") and v.Name ~= LocalPlayer.Name then
                                table.insert(targets, v)
                            end
                        end

                        -- Diá»‡t quÃ¡i trong 100 Stud
                        for _, mob in ipairs(targets) do
                            local mPart = mob:FindFirstChild("HumanoidRootPart") or mob:FindFirstChild("UpperTorso") or mob:FindFirstChild("Head")
                            if mPart and (mPart.Position - hrp.Position).Magnitude <= 100 then
                                killTarget(mob)
                            end
                        end
                    end)
                end
            end)
        end
    end    
})

dropdown = MainTab:AddDropdown({
    Name = "Chá»n má»¥c tiÃªu (Map)",
    Default = "ChÆ°a chá»n",
    Options = targetList,
    Callback = function(v) selectedTargetName = v end
})

MainTab:AddButton({Name = "LÃ m má»›i danh sÃ¡ch quÃ¡i", Callback = function() refreshTargetList() end})

-- [AUTO QUEST]
local autoQuestNPCEnabled = false
local selectedQuestNPC = "ChÆ°a chá»n"
local questNPCList = {"ChÆ°a chá»n"}
local questDropdown

local function refreshQuestNPCList()
    questNPCList = {"ChÆ°a chá»n"}
    safe(function()
        for _, npc in ipairs(workspace.NPCS:GetChildren()) do
            if npc:IsA("Model") and npc:FindFirstChild("ClickPart") then table.insert(questNPCList, npc.Name) end
        end
    end)
    if questDropdown then questDropdown:Refresh(questNPCList, true) end
end

QuestTab:AddToggle({
    Name = "Auto Nháº­n Quest (Accept 1-3)",
    Default = false,
    Callback = function(state)
        autoQuestNPCEnabled = state
        task.spawn(function()
            while autoQuestNPCEnabled do
                task.wait(0.8)
                safe(function()
                    local npc = workspace.NPCS:FindFirstChild(selectedQuestNPC)
                    local inner = npc.ClickPart.QuestTake.QuestTake
                    for i = 1, 3 do
                        local btn = inner:FindFirstChild("Accept"..i)
                        if btn then btn:FindFirstChildOfClass("RemoteEvent"):FireServer() end
                    end
                end)
            end
        end)
    end    
})

questDropdown = QuestTab:AddDropdown({
    Name = "Chá»n NPC Quest",
    Default = "ChÆ°a chá»n",
    Options = questNPCList,
    Callback = function(v) selectedQuestNPC = v end    
})

-- [AUTO SKILL]
for _, key in ipairs({"Z","X","C","V","B","N"}) do
    SkillTab:AddToggle({
        Name = "Auto Skill " .. key,
        Default = false,
        Callback = function(state)
            getgenv()["autoskill"..key] = state
            task.spawn(function()
                while getgenv()["autoskill"..key] do
                    task.wait()
                    safe(function()
                        for _, t in pairs(LocalPlayer.Character:GetChildren()) do
                            if t:IsA("Tool") and t:FindFirstChild(key) then
                                for _, r in pairs(t[key]:GetChildren()) do if r:IsA("RemoteEvent") then r:FireServer() end end
                            end
                        end
                    end)
                end
            end)
        end
    })
end

-- [MISC - TELEPORT & UTILS]
MiscTab:AddButton({
    Name = "âœˆï¸ Teleport sang Server Raid",
    Callback = function()
        game:GetService("TeleportService"):Teleport(18859789310, LocalPlayer)
    end
})

MiscTab:AddButton({
    Name = "ðŸ“‹ Copy Place ID",
    Callback = function()
        setclipboard(tostring(game.PlaceId))
        OrionLib:MakeNotification({Name="Há»‡ thá»‘ng", Content="ÄÃ£ copy ID: "..game.PlaceId, Time=3})
    end
})

MiscTab:AddToggle({
    Name = "Auto Nháº·t Item (100k Stud)",
    Default = false,
    Callback = function(state)
        getgenv().AutoCollectItems = state
        task.spawn(function()
            while getgenv().AutoCollectItems do
                safe(function()
                    for _, obj in pairs(workspace:GetDescendants()) do
                        if obj:IsA("ClickDetector") then fireclickdetector(obj)
                        elseif obj:IsA("TouchInterest") then obj.Parent.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame end
                    end
                end)
                task.wait(0.3)
            end
        end)
    end
})

refreshTargetList()
refreshQuestNPCList()
OrionLib:Init()
