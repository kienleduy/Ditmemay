local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "JOUS MENU üë∫", HidePremium = true, SaveConfig = true, ConfigFolder = "JousSettings", IntroEnabled = false})

-- [TAB MAIN - KILL & TP]
local MainTab = Window:MakeTab({Name = "Main"})
local targetList = {"Siu_Owner"}
local selectedNPC = "Siu_Owner"
local killAuraEnabled = false

local function refreshNPC()
    targetList = {"Siu_Owner"}
    local folder = workspace:FindFirstChild("NPC DAMAGE")
    if folder then
        for _, v in pairs(folder:GetChildren()) do
            if v:IsA("Model") and v.Name ~= "Siu_Owner" then table.insert(targetList, v.Name) end
        end
    end
end
refreshNPC()

MainTab:AddDropdown({
    Name = "Ch·ªçn NPC",
    Default = "Siu_Owner",
    Options = targetList,
    Callback = function(v) selectedNPC = v end
})

MainTab:AddButton({
    Name = "Refresh List",
    Callback = function() refreshNPC() end
})

MainTab:AddButton({
    Name = "Teleport t·ªõi Qu√°i ‚úàÔ∏è",
    Callback = function()
        pcall(function()
            local target = (selectedNPC == "Siu_Owner" and workspace:FindFirstChild("Siu_Owner")) or (workspace:FindFirstChild("NPC DAMAGE") and workspace["NPC DAMAGE"]:FindFirstChild(selectedNPC))
            if target and target:FindFirstChild("HumanoidRootPart") then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = target.HumanoidRootPart.CFrame * CFrame.new(0, 5, 0)
            end
        end)
    end
})

MainTab:AddToggle({
    Name = "Kill Aura",
    Default = false,
    Callback = function(state)
        killAuraEnabled = state
        task.spawn(function()
            while killAuraEnabled do
                task.wait(0.05)
                pcall(function()
                    sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", 1e12)
                    local target = (selectedNPC == "Siu_Owner" and workspace:FindFirstChild("Siu_Owner")) or (workspace:FindFirstChild("NPC DAMAGE") and workspace["NPC DAMAGE"]:FindFirstChild(selectedNPC))
                    if target and target:FindFirstChild("Humanoid") and target.Humanoid.Health > 0 then
                        target.Humanoid.Health = -9e9
                    end
                end)
            end
        end)
    end
})

-- [TAB QUEST]
local QuestTab = Window:MakeTab({Name = "Quest"})
local questNPCList = {"Ch∆∞a ch·ªçn"}
local selectedQuestNPC = "Ch∆∞a ch·ªçn"
local autoQuestEnabled = false

local function refreshQuestNPC()
    questNPCList = {"Ch∆∞a ch·ªçn"}
    local folder = workspace:FindFirstChild("NPCS")
    if folder then
        for _, v in pairs(folder:GetChildren()) do
            if v:IsA("Model") and v:FindFirstChild("ClickPart") then table.insert(questNPCList, v.Name) end
        end
    end
end
refreshQuestNPC()

QuestTab:AddDropdown({
    Name = "Ch·ªçn NPC Quest",
    Default = "Ch∆∞a ch·ªçn",
    Options = questNPCList,
    Callback = function(v) selectedQuestNPC = v end
})

QuestTab:AddToggle({
    Name = "Auto Quest (0.2s)",
    Default = false,
    Callback = function(state)
        autoQuestEnabled = state
        task.spawn(function()
            while autoQuestEnabled do
                task.wait(0.2)
                pcall(function()
                    local npc = workspace.NPCS:FindFirstChild(selectedQuestNPC)
                    if npc and npc:FindFirstChild("ClickPart") then
                        local qt = npc.ClickPart:FindFirstChild("QuestTake")
                        if qt and qt:FindFirstChild("QuestTake") then
                            for i = 1, 3 do
                                local btn = qt.QuestTake:FindFirstChild("Accept"..i)
                                if btn and btn:FindFirstChildOfClass("RemoteEvent") then
                                    btn:FindFirstChildOfClass("RemoteEvent"):FireServer()
                                end
                            end
                        end
                    end
                end)
            end
        end)
    end
})

-- [TAB WAR - AUTO SKILL & ARMOR]
local WarTab = Window:MakeTab({Name = "War"})

for _, key in ipairs({"Z","X","C","V","B","N"}) do
    WarTab:AddToggle({
        Name = "Auto Skill " .. key,
        Default = false,
        Callback = function(state)
            getgenv()["autoskill"..key] = state
            task.spawn(function()
                while getgenv()["autoskill"..key] do
                    task.wait()
                    pcall(function()
                        for _, t in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
                            if t:IsA("Tool") and t:FindFirstChild(key) then
                                for _, r in pairs(t[key]:GetChildren()) do if r:IsA("RemoteEvent") then r:FireServer() end end
                            end
                        end
                    end)
                end
            end)
        end
    })
end

-- Toggle Auto Armor m·ªõi g·∫Øn v√†o tab War
WarTab:AddToggle({
    Name = "Auto Copy Armor (Fire Remote)",
    Default = false,
    Callback = function(state)
        getgenv().AutoArmor = state
        
        if state then
            OrionLib:MakeNotification({
                Name = "Auto Armor",
                Content = "B·∫¨T - T·ª± ƒë·ªông copy/fire armor t·ª´ ng∆∞·ªùi kh√°c",
                Time = 4
            })
        else
            OrionLib:MakeNotification({
                Name = "Auto Armor",
                Content = "T·∫ÆT",
                Time = 3
            })
        end
        
        task.spawn(function()
            while getgenv().AutoArmor do
                task.wait(0.3)
                pcall(function()
                    -- T√¨m v√† fire remote "Fire" c√≥ child "Armor"
                    for _, descendant in pairs(game.Players:GetDescendants()) do
                        if descendant:IsA("RemoteEvent") 
                            and descendant.Name == "Fire" 
                            and descendant:FindFirstChild("Armor") then
                            descendant:FireServer()
                        end
                    end
                    
                    -- Ki·ªÉm tra tr·ª±c ti·∫øp trong Backpack/Character c·ªßa t·∫•t c·∫£ ng∆∞·ªùi ch∆°i
                    for _, plr in pairs(game.Players:GetPlayers()) do
                        if plr ~= game.Players.LocalPlayer then
                            for _, container in pairs({plr.Backpack, plr.Character}) do
                                if container then
                                    for _, item in pairs(container:GetChildren()) do
                                        if item.Name:lower():find("armor") then
                                            local k = item:FindFirstChild("K")
                                            if k then
                                                local fire = k:FindFirstChild("Fire")
                                                if fire and fire:IsA("RemoteEvent") then
                                                    fire:FireServer()
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end)
            end
        end)
    end
})

-- [TAB FRUIT - RANDOM & ROLL]
local FruitTab = Window:MakeTab({Name = "Fruit"})
local rollAmount = 1

FruitTab:AddTextbox({
    Name = "S·ªë l∆∞·ª£ng roll",
    Default = "1",
    Callback = function(v) rollAmount = tonumber(v) or 1 end
})

FruitTab:AddButton({
    Name = "Lucky Spin üé∞",
    Callback = function()
        pcall(function()
            local args = { { true, { Legendary = false, Common = false, Rare = false, Mythical = false, Secret = false }, rollAmount } }
            game.Players.LocalPlayer.PlayerGui.Random.Bright:FireServer(unpack(args))
        end)
    end
})

-- [TAB MISC]
local MiscTab = Window:MakeTab({Name = "Misc"})

MiscTab:AddButton({
    Name = "STORE AND EAT üçé",
    Callback = function()
        pcall(function()
            local Save = game:GetService("ReplicatedStorage"):WaitForChild("Save")
            Save:WaitForChild("SavingMelee"):FireServer(-5)
            Save:WaitForChild("SavingSword"):FireServer(-5)
            for _, Name in pairs({"BOXGUI", "ArmorBox", "DFGUI", "BOOKGUI"}) do
                local Gui = game.Players.LocalPlayer.PlayerGui:FindFirstChild(Name)
                if Gui and Gui.Frame:FindFirstChild("Sure") and Gui.Frame.Sure:FindFirstChild("EatScript") then
                    Gui.Frame.Sure.EatScript.Eat:FireServer()
                end
            end
        end)
    end
})

MiscTab:AddToggle({
    Name = "Auto Nh·∫∑t Item (100k)",
    Default = false,
    Callback = function(state)
        getgenv().AutoCollect = state
        task.spawn(function()
            while getgenv().AutoCollect do
                pcall(function()
                    local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
                    local excluded = {workspace:FindFirstChild("MAP"), workspace:FindFirstChild("NPCS"), workspace:FindFirstChild("NPC DAMAGE")}
                    for _, obj in ipairs(workspace:GetDescendants()) do
                        local isExcluded = false
                        for _, f in ipairs(excluded) do if f and obj:IsDescendantOf(f) then isExcluded = true break end end
                        if not isExcluded then
                            if obj:IsA("ClickDetector") then fireclickdetector(obj)
                            elseif obj:IsA("ProximityPrompt") then fireproximityprompt(obj)
                            elseif obj:IsA("TouchInterest") then firetouchinterest(hrp, obj.Parent, 0) end
                        end
                    end
                end)
                task.wait(0.5)
            end
        end)
    end
})

OrionLib:Init()

print("JOUS MENU loaded! Auto Copy Armor ƒë√£ ƒë∆∞·ª£c g·∫Øn v√†o tab War.")
